\thispagestyle{fancy}
\chapter{Dataindsamling}
\label{chp:dataingsamlingChapter}
I sektion \ref{sec:fysiologi} er det beskrevet hvordan der kan opsamles data fra aktivitet i musklerne ved hjælp af elektromyografi. For at denne data kan opsamles er der blevet udviklet et værktøj så det er muligt for alle at opsamle data, og uploade det til skyen for at alle kan få gavn af den opsamlede data. Applikationen Data Collection App var hovedfokus i de første uger af projektet, da det skulle bruges undervejs i projektet for at der kunne opsamles data, der senere skulle bearbejdes og trænes til Machine Learning modeller. Applikationen er udviklet ud fra de krav der er opsat i kravspecifikationen\citep{RefWorks:8}\todoall{Ret kravspec til}. I applikationen skal det altså være muligt at:
\begin{myItemize}
	\item Se instruktion for brug af applikation
	\item indsamle datasæt
	\item Tilføje ny pose
\end{myItemize}
Instruktionen er en forklaring af de forskellige knapper på GUI'en der giver et overblik og en forståelse for hvordan applikationen betjenes. Denne kan åbnes fra "File"' oppe i venstre hjørne af GUI'en. "File"' ses på figur \ref{fig:dca} 

\section{Optagelse af data}
\label{sec:optagelsedata}
Som tidligere nævnt bliver EMG signalet omdannet til en integer der kan arbejdes med. For hvert enkelt sample der optages, samles 9 informationer. Den første information er tiden der er gået siden start af optagelsen. De næste 8 informationer er én integer for hver af de 8 EMG sensorer der sidder rundt på Myo'en. 3 EMG sensorer kan ses tilbage på figur \ref{fig:myo}.
På figur \ref{fig:sample} ses et eksempel på et udsnit fra en sekvens at samples.

\myFigure{sample2}{eks. fra en sekvens af samples, hvor informationerne der optages ses. Time er tiden der er gået siden starten af optagelsen. Emg1-8 er EMG signalerne fra de 8 sensorer lavet til en integer. Hand er hvilken hånd der er brugt. Pose er hvilken pose der opsamles data på. Dette er en PoseID, der kan variere fra 0 til 2. Orientation er Myo'en orientering. Denne går fra 0 til 49, og fortæller hvordan Myo'en sidder på armen. testPerson, er den person der har opsamlet dataet.}{fig:sample}{1}

Som det ses er der på første sample flere informationer. Grunden til dette er at de ikke ændres i løbet af én optagelse. Hvilken pose der optages gemmes da dataopsamlingen er input og pose er output. Det bliver mappet sammen, således, pose kan bruges som et output efter træningen. på den måde kan der senere genkendes poses. Orientering gemmes da denne er variabel da den ikke nødvendigvis påføres armen på samme måde hver gang. Da både EMG data og orientering optages sammen, kan de også under træning af modellerne mappes sammen, hvilken gør at der skabes en forbindelse mellem orientering og EMG signal. Hand bliver opsamlet, fra Myo'en, men da det er besluttet kun at bruge højre hånd i projektet, bliver denne ikke videre behandlet.\\
Data bliver optaget ved at Myo'en påføres underarmen hvor den er tykkest, herefter checkes orienteringen ved holde armen strakt ud med tommefingeren op. Den ønskede pose, testpersonen vil optage, vælges i fold-ud menuen, og optagelsen startes. På figur \ref{fig:dca} kan brugergrænsefladen til applikationen ses.

\myFigure{dca}{Data Collection Applikation brugergrænseflade. Her ses de omtalte knapper, check orientation hvor orienteringen af Myo'en kan findes. Der kan også tilføjes en ny pose til databasen ved klik på "Add New Pose"' Brugernavn skal indtastes for at kunne optage, så det er muligt at se på databasen hvem der har uploaded hvad.}{fig:dca}{0.9}

Når en optagelse startes, laves den ønskede pose, og der registreres EMG signaler fra musklerne. Signalerne sendes som integers til applikationen der skriver dem ud i en .csv-fil. Når en optagelse stoppes bliver .csv-filen gemt, og der er mulighed for at få gemt data online. Gemmes data online bliver det sendt til en database på parse.com\citep{RefWorks:11}. Her bliver alle data gemt fra testpersoner der anvender applikationen.

Til opbevaring af pose data er der valgt .csv-fil. Valget stod mellem en database eller .csv-filen. .csv-filen kan læses i en bred udstrækning af miljø og applikationer, og er nem at arbejde med. Det er derfor en smart løsning at hver optagelse ligger i en fil for sig. Derfor blev .csv valg. Filerne er samlet på Parse.com i en database. Hos Parse er der så mulighed for at hente .csv-filerne ud og arbejde med dem lokalt. Dette er fx. til træning af Machine Learning modeller

\section{Delkonklusion}
Med dette værktøj, er det nu muligt at opsamle data og gemme det lokalt og på Parse.com. Dataen er klar til brug i MATLAB, hvor der kan trænes Machine Learning modeller med det. Alle kan ligemeget hvor de er opsamle data og ligge det op på parse.com, hvor der laves en samlet database med alle data, der kan bruges til at træne modeller med. 